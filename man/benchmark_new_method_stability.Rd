% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/benchmark_new_method_stability.R
\name{benchmark_new_method_stability}
\alias{benchmark_new_method_stability}
\title{Analyze Network Stability Using Jaccard Index (Custom Paths for new method)}
\usage{
benchmark_new_method_stability(
  base_dir = ".",
  sample_dirs = c("K562", "Macrophage_S1", "Macrophage_S2", "E7.5_rep1", "E7.5_rep2",
    "E8.5_rep1", "E8.5_rep2"),
  methods = c("CellOracle", "FigR", "TRIPOD", "Pando", "LINGER", "Scenic", "GRaNIE",
    "DIRECTNET"),
  method_name = NULL,
  grn_dir = NULL,
  dataset_name = NULL,
  custom_sort_columns = NULL,
  custom_source_target_columns = NULL,
  custom_delim = NULL,
  top_percent = 0.1,
  random_percent = 0.1,
  seed = 123,
  file_pattern = "\\\\.(csv|tsv|txt)$",
  create_plot = TRUE,
  save_plot = TRUE,
  save_results = TRUE,
  plot_filename = "median_ji_heatmap.png",
  results_filename = "median_ji_results.csv",
  plot_width = 12,
  plot_height = 14,
  plot_dpi = 300,
  verbose = FALSE
)
}
\arguments{
\item{base_dir}{Character. Base directory containing sample directories.}

\item{sample_dirs}{Character vector. Names of sample directories to analyze.}

\item{methods}{Character vector. Names of methods to analyze.}

\item{method_name}{Character. Name of the new method to analyze (optional).}

\item{grn_dir}{Character. Custom directory path containing the new method's GRN files (optional).
Can also be a named list mapping sample names to their respective directories.}

\item{dataset_name}{Character. Name of the dataset (e.g., K562) (optional).}

\item{custom_sort_columns}{Named list. Custom sorting columns for methods (optional).}

\item{custom_source_target_columns}{Named list. Custom source/target column mappings (optional).}

\item{custom_delim}{Named list. Custom delimiter mappings for file reading (optional).}

\item{top_percent}{Numeric. Percentage of top edges to extract (default: 0.1 for 10\%).}

\item{random_percent}{Numeric. Percentage of random edges to extract (default: 0.1 for 10\%).}

\item{seed}{Integer. Random seed for reproducibility (default: 123).}

\item{file_pattern}{Character. Pattern to match network files (default: "\\.(csv|tsv|txt)$").}

\item{create_plot}{Logical. Whether to create a heatmap visualization (default: TRUE).}

\item{save_plot}{Logical. Whether to save the plot (default: FALSE).}

\item{save_results}{Logical. Whether to save results as CSV (default: FALSE).}

\item{plot_filename}{Character. Filename for saved plot (default: "median_ji_heatmap.png").}

\item{results_filename}{Character. Filename for saved results (default: "median_ji_results.csv").}

\item{plot_width}{Numeric. Plot width in inches (default: 12).}

\item{plot_height}{Numeric. Plot height in inches (default: 7).}

\item{plot_dpi}{Numeric. Plot resolution in DPI (default: 300).}

\item{verbose}{Logical. Whether to print detailed messages (default: FALSE).}
}
\value{
A list containing:
\item{results}{Data.frame with columns: Sample, Method, Category, Median_JI}
\item{plot}{ggplot2 object (if create_plot = TRUE)}
}
\description{
This function analyzes the stability of gene regulatory networks across different
methods and samples by calculating Jaccard Index between top and random edge sets.
Now supports custom paths for new methods.
}
\examples{
\dontrun{
# Example 1: Basic usage with existing methods only
results <- benchmark_new_method_stability(
  base_dir = "STABILITY_GRNS"
)

# Example 2: Single dataset with new method
# Directory structure: new_method_stability/ contains files directly
results <- benchmark_new_method_stability(
  base_dir = "STABILITY_GRNS",
  sample_dirs = c("K562"),
  methods = c("CellOracle", "FigR"),
  method_name = "ScenicPlus",
  grn_dir = "path/to/new_method/grns",
  custom_sort_columns = list(ScenicPlus = "Score"),
  custom_source_target_columns = list(ScenicPlus = c("Source", "Target")),
  custom_delim = list(ScenicPlus = "\t"),
  verbose = TRUE
)

# Example 3: Multiple datasets with subdirectories
# Directory structure: 
# new_method_grns/K562/file1.tsv, file2.tsv, ...
# new_method_grns/Macrophage_S1/file1.tsv, file2.tsv, ...
results <- benchmark_new_method_stability(
  base_dir = "STABILITY_GRNS",
  sample_dirs = c("K562", "Macrophage_S1", "Macrophage_S2"),
  methods = c("CellOracle", "FigR", "TRIPOD"),
  method_name = "MyNewMethod",
  grn_dir = "path/to/new_method/grns",
  custom_sort_columns = list(MyNewMethod = "confidence_score"),
  custom_source_target_columns = list(MyNewMethod = c("TF", "Gene")),
  custom_delim = list(MyNewMethod = ","),
  verbose = TRUE
)

# Example 4: Different custom paths for each dataset
# Use when each dataset's files are in completely separate directories
results <- benchmark_new_method_stability(
  base_dir = "STABILITY_GRNS",
  sample_dirs = c("K562", "Macrophage_S1", "Macrophage_S2"),
  methods = c("CellOracle", "FigR"),
  method_name = "CustomMethod",
  grn_dir = list(
    K562 = "path/to/new_method/k562_networks",
    Macrophage_S1 = "path/to/new_method/mac_s1_networks",
    Macrophage_S2 = "path/to/new_method/mac_s2_networks"
  ),
  custom_sort_columns = list(CustomMethod = "importance"),
  custom_source_target_columns = list(CustomMethod = c("source_gene", "target_gene")),
  custom_delim = list(CustomMethod = "\t"),
  save_plot = TRUE,
  save_results = TRUE
)

# Example 5: Access and examine results
# View the stability results
print(results$results)

# Display the heatmap
print(results$plot)
}
}
